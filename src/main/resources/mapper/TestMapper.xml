<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mingyue.mingyue.dao.TestDao">
    <!--namespace根据自己需要创建的的mapper的路径和名称填写-->

    <select id="test" resultType="String" parameterType="map">
        select * from test
    </select>

    <insert id="insert"  parameterType="map" >
        insert into test  (<include refid="insertFields"/>)
        values (
                #{id},
                #{name}
        )

    </insert>

    <insert id="batchInsert" parameterType="list">
        insert into user_account  (<include refid="userInsertFields"/>)
        values
        <foreach collection="list" item="item" index="index" separator=",">
            (

            #{item.uuid},
            #{item.userName},
            #{item.passWord},
            #{item.deleteStatus},
            #{item.status},
            #{item.createdDate},
            #{item.createdBy},
            #{item.updateDate},
            #{item.updateBy}

            )
        </foreach>
    </insert>
    <select id="findByWhere" parameterType="map" resultType="com.mingyue.mingyue.bean.UserAccount">
        select * from user_account
        <where>
            <if test="userName != null">
                user_name like concat('%',#{userName},'%')
            </if>
        </where>
    </select>

    <sql id="userInsertFields">

        uuid,
        user_name,
        pass_word,
        delete_status,
        status,
        created_date,
        created_by,
        update_date,
        update_by
    </sql>

    <sql id="insertFields">
        id,
        name
    </sql>
    <select id="getContent" resultType="string">
        select `name` from test where id = 1
    </select>

</mapper>